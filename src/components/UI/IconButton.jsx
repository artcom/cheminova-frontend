import { styled } from "styled-components"

const StyledButton = styled.button`
  all: unset;
  width: 3.4375rem;
  height: 3.4375rem;
  flex-shrink: 0;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;

  &:disabled {
    cursor: not-allowed;

    svg rect {
      stroke: #888;
    }

    svg path {
      fill: #888;
    }
  }
`

const ICON_VARIANTS = {
  arrowDown: {
    svg: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="55"
        height="55"
        viewBox="0 0 55 55"
        fill="none"
      >
        <rect
          x="1"
          y="1"
          width="53"
          height="53"
          rx="26.5"
          transform="matrix(0 1 1 0 0 0)"
          stroke="white"
          strokeWidth="2"
        />
        <path
          d="M26 16.5C26 15.9477 26.4477 15.5 27 15.5C27.5523 15.5 28 15.9477 28 16.5H26ZM27.7071 40.2071C27.3166 40.5976 26.6834 40.5976 26.2929 40.2071L19.9289 33.8431C19.5384 33.4526 19.5384 32.8195 19.9289 32.4289C20.3195 32.0384 20.9526 32.0384 21.3431 32.4289L27 38.0858L32.6569 32.4289C33.0474 32.0384 33.6805 32.0384 34.0711 32.4289C34.4616 32.8195 34.4616 33.4526 34.0711 33.8431L27.7071 40.2071ZM27 16.5H28V39.5H27H26V16.5H27Z"
          fill="white"
        />
      </svg>
    ),
    label: "Arrow down",
  },

  camera: {
    svg: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="33"
        height="25"
        viewBox="0 0 33 25"
        fill="none"
      >
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M11.5226 1.0001C10.9679 1.0001 10.4975 1.27542 10.201 1.62147C9.90462 1.96752 9.73371 2.36952 9.58513 2.75504C9.58512 2.75642 9.58512 2.7578 9.58513 2.75918L9.03708 4.17837H3.23293C2.00438 4.17837 1 5.16814 1 6.37204V21.8053C1 23.0092 2.00438 24 3.23293 24H29.7702C30.9988 24 32 23.0092 32 21.8053V6.37205C32 5.16815 30.9988 4.17837 29.7702 4.17837H23.9661L23.418 2.75912C23.418 2.75877 23.418 2.75947 23.418 2.75912C23.418 2.75877 23.418 2.75738 23.418 2.75703C23.418 2.75668 23.418 2.75738 23.418 2.75703C23.418 2.75668 23.418 2.75529 23.418 2.75494C23.2694 2.36952 23.0985 1.96742 22.8021 1.62137C22.5057 1.27532 22.0352 1 21.4805 1L11.5226 1.0001ZM11.5226 2.04592H21.4805C21.7227 2.04592 21.8282 2.11378 21.9816 2.29284C22.1349 2.4719 22.2855 2.7765 22.42 3.12541L23.0986 4.88341C23.1364 4.98257 23.2042 5.06816 23.2929 5.12883C23.3817 5.1895 23.4872 5.2224 23.5955 5.22318H29.7702C30.4201 5.22318 30.9342 5.72407 30.9342 6.37205V21.8053C30.9342 22.4533 30.4201 22.9542 29.7702 22.9542H3.23293C2.58307 22.9542 2.06897 22.4533 2.06897 21.8053V6.37205C2.06897 5.72407 2.58307 5.22318 3.23293 5.22318H9.40766C9.51595 5.2224 9.62145 5.1895 9.71018 5.12883C9.79892 5.06816 9.8667 4.98257 9.90457 4.88341L10.5831 3.12541C10.7176 2.7765 10.8682 2.47189 11.0216 2.29284C11.1749 2.11377 11.2804 2.04592 11.5226 2.04592ZM16.5021 7.22809C12.6593 7.22809 9.53815 10.3075 9.53815 14.0887C9.53815 17.8699 12.6593 20.9533 16.5021 20.9533C20.3449 20.9533 23.465 17.8699 23.465 14.0887C23.465 10.3075 20.3449 7.22809 16.5021 7.22809ZM27.8473 7.43828C27.7473 7.43861 27.6484 7.45819 27.5561 7.4959C27.4638 7.53362 27.3801 7.58873 27.3096 7.65808C27.2391 7.72743 27.1833 7.80968 27.1454 7.90011C27.1074 7.99054 27.088 8.0874 27.0884 8.18515C27.0891 8.38167 27.1693 8.56995 27.3114 8.70892C27.4536 8.84788 27.6462 8.92625 27.8473 8.92691C27.9474 8.92739 28.0466 8.90857 28.1393 8.87153C28.2319 8.8345 28.3162 8.77997 28.3873 8.71108C28.4583 8.64219 28.5148 8.56027 28.5534 8.47003C28.5921 8.37978 28.6122 8.28298 28.6125 8.18515C28.6129 8.08688 28.5933 7.98953 28.5549 7.89869C28.5166 7.80786 28.4602 7.72534 28.3891 7.65591C28.318 7.58647 28.2335 7.5315 28.1405 7.49414C28.0475 7.45679 27.9479 7.4378 27.8473 7.43828ZM16.5021 8.27391C19.7622 8.27391 22.396 10.8673 22.396 14.0887C22.396 17.3101 19.7622 19.9085 16.5021 19.9085C13.242 19.9085 10.6071 17.3101 10.6071 14.0887C10.6071 10.8673 13.242 8.27391 16.5021 8.27391Z"
          fill="black"
        />
        <path
          d="M23.418 2.75912L23.9661 4.17837H29.7702C30.9988 4.17837 32 5.16815 32 6.37205V21.8053C32 23.0092 30.9988 24 29.7702 24H3.23293C2.00438 24 1 23.0092 1 21.8053V6.37204C1 5.16814 2.00438 4.17837 3.23293 4.17837H9.03708L9.58513 2.75918C9.58512 2.7578 9.58512 2.75642 9.58513 2.75504C9.73371 2.36952 9.90462 1.96752 10.201 1.62147C10.4975 1.27542 10.968 1.0001 11.5226 1.0001L21.4805 1C22.0352 1 22.5057 1.27532 22.8021 1.62137C23.0985 1.96742 23.2694 2.36952 23.418 2.75494C23.418 2.75529 23.418 2.75668 23.418 2.75703M23.418 2.75912C23.418 2.75877 23.418 2.75947 23.418 2.75912ZM23.418 2.75912C23.418 2.75877 23.418 2.75738 23.418 2.75703M23.418 2.75703C23.418 2.75668 23.418 2.75738 23.418 2.75703ZM11.5226 2.04592H21.4805C21.7227 2.04592 21.8282 2.11378 21.9816 2.29284C22.1349 2.4719 22.2855 2.7765 22.42 3.12541L23.0986 4.88341C23.1364 4.98257 23.2042 5.06816 23.2929 5.12883C23.3817 5.1895 23.4872 5.2224 23.5955 5.22318H29.7702C30.4201 5.22318 30.9342 5.72407 30.9342 6.37205V21.8053C30.9342 22.4533 30.4201 22.9542 29.7702 22.9542H3.23293C2.58307 22.9542 2.06897 22.4533 2.06897 21.8053V6.37205C2.06897 5.72407 2.58307 5.22318 3.23293 5.22318H9.40766C9.51595 5.2224 9.62145 5.1895 9.71018 5.12883C9.79892 5.06816 9.8667 4.98257 9.90457 4.88341L10.5831 3.12541C10.7176 2.7765 10.8682 2.47189 11.0216 2.29284C11.1749 2.11377 11.2804 2.04592 11.5226 2.04592ZM16.5021 7.22809C12.6593 7.22809 9.53815 10.3075 9.53815 14.0887C9.53815 17.8699 12.6593 20.9533 16.5021 20.9533C20.3449 20.9533 23.465 17.8699 23.465 14.0887C23.465 10.3075 20.3449 7.22809 16.5021 7.22809ZM27.8473 7.43828C27.7473 7.43861 27.6484 7.45819 27.5561 7.4959C27.4638 7.53362 27.3801 7.58872 27.3096 7.65808C27.2391 7.72743 27.1833 7.80968 27.1454 7.90011C27.1074 7.99054 27.088 8.0874 27.0884 8.18515C27.0891 8.38167 27.1693 8.56995 27.3114 8.70892C27.4536 8.84788 27.6463 8.92625 27.8473 8.92691C27.9474 8.92739 28.0466 8.90856 28.1393 8.87153C28.2319 8.8345 28.3162 8.77997 28.3873 8.71108C28.4583 8.64219 28.5148 8.56027 28.5534 8.47003C28.5921 8.37978 28.6122 8.28298 28.6125 8.18515C28.6129 8.08688 28.5933 7.98953 28.5549 7.89869C28.5166 7.80786 28.4602 7.72534 28.3891 7.65591C28.318 7.58647 28.2335 7.53149 28.1405 7.49414C28.0475 7.45679 27.9479 7.4378 27.8473 7.43828ZM16.5021 8.27391C19.7622 8.27391 22.396 10.8673 22.396 14.0887C22.396 17.3101 19.7622 19.9085 16.5021 19.9085C13.242 19.9085 10.6071 17.3101 10.6071 14.0887C10.6071 10.8673 13.242 8.27391 16.5021 8.27391Z"
          stroke="black"
        />
      </svg>
    ),
    label: "Camera",
  },
}

function IconButton({
  variant = "arrowDown",
  onClick,
  disabled = false,
  className,
  testId,
  ...props
}) {
  const iconVariant = ICON_VARIANTS[variant]

  if (!iconVariant) {
    console.warn(
      `IconButton: Unknown variant "${variant}". Available variants: ${Object.keys(ICON_VARIANTS).join(", ")}`,
    )
    return null
  }

  const handleClick = (event) => {
    if (disabled || !onClick) return
    onClick(event)
  }

  const handleKeyDown = (event) => {
    if (disabled) return
    if (event.key === "Enter" || event.key === " ") {
      event.preventDefault()
      handleClick(event)
    }
  }

  return (
    <StyledButton
      type="button"
      onClick={handleClick}
      onKeyDown={handleKeyDown}
      disabled={disabled}
      className={className}
      data-testid={testId}
      {...props}
    >
      {iconVariant.svg}
    </StyledButton>
  )
}

export default IconButton
